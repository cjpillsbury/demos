var d=function(){try{var n=function(){if(!h)return h=!0,Promise.resolve(Promise.resolve(!1)).then(function(s){h=s,window[r].dispatchEvent(new Event("change"))})}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(s){return Promise.reject(s)}},r="__foldables__",h=!1;function f(n,s){var e;return function(){var i=arguments,t=this;clearTimeout(e),e=setTimeout(function(){return n.apply(t,i)},s)}}var a=function(){function n(){var e=this;if(window[r]!==void 0)return window[r];var i=document.createDocumentFragment();this.addEventListener=i.addEventListener.bind(i),this.removeEventListener=i.removeEventListener.bind(i),this.dispatchEvent=function(t){if(t.type==="change"){var o="on"+t.type;return typeof e[o]=="function"&&e[o](t),i.dispatchEvent(t)}},window.addEventListener("message",function(t){t.data.action==="update"&&Object.assign(e,t.data.value)}),window.addEventListener("resize",function(){return f(d(),200)})}var s;return n.prototype.getSegments=function(){if(this.spanning==="none")return[{left:0,top:0,width:window.innerWidth,height:window.innerHeight}];if(this.spanning==="single-fold-horizontal"){var e=(window.innerHeight-this.browserShellSize)/2,i=window.innerWidth;return[{top:0,left:0,width:i,height:e-this.foldSize/2},{top:e-this.foldSize/2,height:this.foldSize,left:0,width:i},{top:e+this.foldSize/2,left:0,width:i,height:e-this.foldSize/2}]}if(this.spanning==="single-fold-vertical"){var t=window.innerWidth/2-this.foldSize/2,o=window.innerHeight;return[{top:0,left:0,width:t,height:o},{top:0,height:o,left:t,width:this.foldSize},{top:0,left:window.innerWidth/2+this.foldSize/2,width:t,height:o}]}},(s=[{key:"spanning",get:function(){return sessionStorage.getItem(r+"-spanning")||"none"},set:function(e){if(!["none","single-fold-horizontal","single-fold-vertical"].includes(e))throw new TypeError(e);sessionStorage.setItem(r+"-spanning",e),d()}},{key:"foldSize",get:function(){return+sessionStorage.getItem(r+"-fold-size")||0},set:function(e){if(!(Number(e)>=0))throw new TypeError(e);sessionStorage.setItem(r+"-fold-size",e),d()}},{key:"browserShellSize",get:function(){return+sessionStorage.getItem(r+"-browser-shell-size")||0},set:function(e){if(!(Number(e)>=0))throw new TypeError(e);sessionStorage.setItem(r+"-browser-shell-size",e),d()}}])&&function(e,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(n.prototype,s),n}();window[r]=new a,window.getWindowSegments=function(){var n=window[r].getSegments();return n.length===1?n:[n[0],n[2]]};export{a as FoldablesFeature};
