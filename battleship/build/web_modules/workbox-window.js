try{self["workbox:window:5.1.4"]&&_()}catch(b){}function v(b,d){return new Promise(function(c){var f=new MessageChannel();f.port1.onmessage=function(k){c(k.data)},b.postMessage(d,[f.port2])})}function z(b,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}}function w(b,d){(null==d||d>b.length)&&(d=b.length);for(var c=0,f=new Array(d);c<d;c++)f[c]=b[c];return f}function A(b,d){var c;if("undefined"==typeof Symbol||null==b[Symbol.iterator]){if(Array.isArray(b)||(c=function(k,o){if(k){if("string"==typeof k)return w(k,o);var m=Object.prototype.toString.call(k).slice(8,-1);return"Object"===m&&k.constructor&&(m=k.constructor.name),"Map"===m||"Set"===m?Array.from(k):"Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?w(k,o):void 0}}(b))||d&&b&&"number"==typeof b.length){c&&(b=c);var f=0;return function(){return f>=b.length?{done:!0}:{done:!1,value:b[f++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(c=b[Symbol.iterator]()).next.bind(c)}try{self["workbox:core:5.1.4"]&&_()}catch(b){}var r=function(){var b=this;this.promise=new Promise(function(d,c){b.resolve=d,b.reject=c})};function s(b,d){var c=location.href;return new URL(b,c).href===new URL(d,c).href}var n=function(b,d){this.type=b,Object.assign(this,d)};function p(b,d,c){return c?d?d(b):b:(b&&b.then||(b=Promise.resolve(b)),d?b.then(d):b)}function B(){}var C=function(b){var d,c;function f(i,j){var a,e;return void 0===j&&(j={}),(a=b.call(this)||this).t={},a.i=0,a.o=new r(),a.u=new r(),a.s=new r(),a.v=0,a.h=new Set(),a.l=function(){var h=a.m,g=h.installing;a.i>0||!s(g.scriptURL,a.g)||performance.now()>a.v+6e4?(a.p=g,h.removeEventListener("updatefound",a.l)):(a.P=g,a.h.add(g),a.o.resolve(g)),++a.i,g.addEventListener("statechange",a.S)},a.S=function(h){var g=a.m,l=h.target,q=l.state,t=l===a.p,y=t?"external":"",u={sw:l,originalEvent:h};!t&&a.j&&(u.isUpdate=!0),a.dispatchEvent(new n(y+q,u)),"installed"===q?a.A=self.setTimeout(function(){"installed"===q&&g.waiting===l&&a.dispatchEvent(new n(y+"waiting",u))},200):"activating"===q&&(clearTimeout(a.A),t||a.u.resolve(l))},a.O=function(h){var g=a.P;g===navigator.serviceWorker.controller&&(a.dispatchEvent(new n("controlling",{sw:g,originalEvent:h,isUpdate:a.j})),a.s.resolve(g))},a.U=(e=function(h){var g=h.data,l=h.source;return p(a.getSW(),function(){a.h.has(l)&&a.dispatchEvent(new n("message",{data:g,sw:l,originalEvent:h}))})},function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];try{return Promise.resolve(e.apply(this,h))}catch(l){return Promise.reject(l)}}),a.g=i,a.t=j,navigator.serviceWorker.addEventListener("message",a.U),a}c=b,(d=f).prototype=Object.create(c.prototype),d.prototype.constructor=d,d.__proto__=c;var k,o,m=f.prototype;return m.register=function(i){var j=(void 0===i?{}:i).immediate,a=void 0!==j&&j;try{var e=this;return function(h,g){var l=h();return l&&l.then?l.then(g):g(l)}(function(){if(!a&&"complete"!==document.readyState)return x(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return e.j=Boolean(navigator.serviceWorker.controller),e.I=e.M(),p(e.R(),function(h){e.m=h,e.I&&(e.P=e.I,e.u.resolve(e.I),e.s.resolve(e.I),e.I.addEventListener("statechange",e.S,{once:!0}));var g=e.m.waiting;return g&&s(g.scriptURL,e.g)&&(e.P=g,Promise.resolve().then(function(){e.dispatchEvent(new n("waiting",{sw:g,wasWaitingBeforeRegister:!0}))}).then(function(){})),e.P&&(e.o.resolve(e.P),e.h.add(e.P)),e.m.addEventListener("updatefound",e.l),navigator.serviceWorker.addEventListener("controllerchange",e.O,{once:!0}),e.m})})}catch(h){return Promise.reject(h)}},m.update=function(){try{return this.m?x(this.m.update()):void 0}catch(i){return Promise.reject(i)}},m.getSW=function(){try{return void 0!==this.P?this.P:this.o.promise}catch(i){return Promise.reject(i)}},m.messageSW=function(i){try{return p(this.getSW(),function(j){return v(j,i)})}catch(j){return Promise.reject(j)}},m.M=function(){var i=navigator.serviceWorker.controller;return i&&s(i.scriptURL,this.g)?i:void 0},m.R=function(){try{var i=this;return function(j,a){try{var e=j()}catch(h){return a(h)}return e&&e.then?e.then(void 0,a):e}(function(){return p(navigator.serviceWorker.register(i.g,i.t),function(j){return i.v=performance.now(),j})},function(j){throw j})}catch(j){return Promise.reject(j)}},k=f,(o=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&z(k.prototype,o),f}(function(){function b(){this.k=new Map()}var d=b.prototype;return d.addEventListener=function(c,f){this.B(c).add(f)},d.removeEventListener=function(c,f){this.B(c).delete(f)},d.dispatchEvent=function(c){c.target=this;for(var f,k=A(this.B(c.type));!(f=k()).done;)(0,f.value)(c)},d.B=function(c){return this.k.has(c)||this.k.set(c,new Set()),this.k.get(c)},b}());function x(b,d){if(!d)return b&&b.then?b.then(B):Promise.resolve()}export{C as Workbox,v as messageSW};
